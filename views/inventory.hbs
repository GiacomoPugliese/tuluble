<!DOCTYPE html>
<html>

<head>
    <title>page</title>
    <title>materialbox</title>
    <title>navbar</title>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="/partials/color.css">

</head>

<body>
    <div style="display: flex; justify-content:space-between;">
        {{> navbar}}

        {{> logout}}
    </div>


    <!-- NAVIGATION SIDEBAR (location to put icon NEXT to the sidebar lines) -->
    {{!-- <div class="col s6">
        <img src="/luluble_hlogo.jpg" class="responsive-img">
    </div> --}}
    {{!-- <span style="color:#000000" class="large material-icons">local_florist</span> --}}



    <!-- BLANK TEAL DIVIDER -->
    {{!-- <div class="row">
        <div class="col s12"><span class="flow-text"></span>
            <div class="card-panel teal lighten-2"></div>
        </div>
    </div> --}}

    <!-- ROW OF BUTTONS AND SEARCH BAR -->
    <div style="padding: 2% 2% 2% 1%" class="row">
        <div class="col s12">
            <p></p>
            <h1 id="inventoryTitle">Inventory </h1>

            <label>Classifier select</label>
            <select id="myDropdown" class="browser-default">
                <option value="0" disabled selected>Choose your classifier</option>
                <option value="Thickener">Thickeners</option>
                <option value="Oils">Oils</option>
                <option value="Butters">Butters</option>
                <option value="Surfactants">Surfactants</option>
                <option value="Functional-Active">Functional/Active</option>
                <option value="Preservatives">Preservatives</option>
                <option value="Extracts-Fragrances-Flavor">Extracts/Fragrances/Flavor</option>
                <option value="Experimental">Experimental</option>
                <option value="Colorants">Colorants</option>
                <option value="Absorbents">Absorbents</option>
                <option value="pH Adjusters (Acids)">pH Adjusters (Acids)</option>
                <option value="pH Adjusters (Bases)">pH Adjusters (Bases)</option>
                <option value="Distilled_Water-Ethyl_Alcohol">Distilled Water/Ethyl Alcohol</option>
            </select>
        </div>


        {{!-- dropdown script --}}
        <script>
            const select = document.querySelector('#myDropdown');
            let selectedOption;
            
            select.addEventListener('change', (event) => {
                //window.location.href = "inventory/"
                selectedOption = event.target.value;
                console.log(selectedOption);
                //window.location.href += "/" + selectedOption;
                if (window.location.href.indexOf("inventory/") !== -1) {
                    window.location.href = selectedOption;
                }

                document.addEventListener('DOMContentLoaded', function() {
                    var elems = document.querySelectorAll('browser-default');
                    var instances = M.FormSelect.init(elems, options);
                });
                var instance = M.FormSelect.getInstance(elem);
                console.log(instance.getSelectedValue());

                $(document).ready(function(){

                    $('browser-default').formSelect();
                    
                    $('.modal').modal();
                });

        </script>


        <script>
            function myfunc() {
                console.log("hello");
            }
            $(document).ready(function () {
                $('browser-default').formSelect();
                $('.modal').modal();
            });

            $('browser-default').formSelect('myfunc');
                // $('select').formSelect('methodName', paramName);

        </script>

        <script>
            $(document).ready(function () {
                $('.modal').modal();
            })
        </script>

        <div class="col s12 m4 l4">
            <p></p>
            <div class="delete_button">
                <a href="#" class="btn waves-effect waves-light luluble-pink">Delete</a>
            </div>
        </div>
        <div class="col s12 m4 l6">
            <p></p>
            <nav>
                <div class="nav-wrapper grey">
                    <div class="input-field">
                        <input type="search" name="" id="">
                        <label for="search" class="label-icon"> <i class="material-icons">search</i></label>
                        <i class="material-icons">close</i>
                    </div>
                </div>
            </nav>
        </div>
    </div>

    <!-- INVENTORY TABLE -->
    <div style="padding:20px">

        <table class="sortable">
            <thead>
                <tr>
                    <th>INCI Name
                        <span class="large material-icons">import_export</span>
                    </th>
                    <th>Trade Name
                        <span class="large material-icons">import_export</span>
                    </th>
                    <th>Amount Available
                        <span class="large material-icons">import_export</span>
                    </th>
                    <th>Shelf
                        <span class="large material-icons">import_export</span>
                    </th>
                    <th></th>
                </tr>
            </thead>
            <tbody>

                {{#each results}}
                <tr>
                    <td>{{this.inci_name}}
                        <a href="#terms" class="modal-trigger">
                            <span class="large material-icons">info_outline</span>
                        </a>
                        <div class="modal" id="terms">
                            <div class="row">
                                <div class="col s12">&nbsp;</div>
                                <div class="col s12"><b>
                                        <font size="+2">Ingredient Information</font>
                                    </b></div>
                                <div class="col s12">&nbsp;</div>
                                <div class="col s6">
                                    <span><b>Trade Name:</b> {{this.trade_name}}<br></br><b>INCI Name:</b>
                                        {{this.inci_name}}<br></br><b>Amount Available:</b> {{this.amt}}
                                        {{this.unit}}<b></b><b>Supplier:</b> {{this.supplier}}<br></br><b>TSCA
                                            Approved:</b> {{this.tsca_approved}}</span>
                                    {{!-- <span>Ingredient:<br></br>Supplier:<br></br>Trade Name:<br></br>INCI
                                        Name:</span> --}}
                                </div>
                                <div class="col s6">
                                    {{!-- <span>Lot #:<br></br>Shelf #:<br></br>Amount Received:<br></br>Amount
                                        Available:</span> --}}
                                    <span><b>Lot Number:</b> {{this.lot_num}}<br></br><b>Date Receieved:</b>
                                        {{this.date_received}}<br></br><b>Expiration Date:</b>
                                        {{this.expiration}}<br></br><b>COA: </b>Link<br></br><b>MSDS: </b>Link</span>
                                </div>

                                <div class="col s12">&nbsp;</div>
                                <div class="col s12 m6 l3">
                                    <p></p>
                                </div>
                                <div class="col s12 m6 l3">
                                    <p></p>
                                </div>
                                <div class="col s12 m6 l3">
                                    <p></p>
                                    <div class="delete_button">
                                        <a href="" class="btn-small">Edit</a>
                                    </div>
                                </div>
                                <div class="col s12 m6 l3">
                                    <p></p>
                                    <div class="delete_button">
                                        <a href="" class="btn-small">Delete</a>
                                    </div>
                                </div>
                            </div>
                        </div>




                    </td>

                    <td>{{this.trade_name}}</td>
                    <td>{{this.amt}} {{this.unit}}</td>
                    <td>{{this.shelf}}</td>


                    <td>
                        <div class="delete_button">
                            <a href="archive-ingredient/{{this.ingredient_id}}"
                                class="btn waves-effect waves-light luluble-pink">Archive</a>
                        </div>
                    </td>

                </tr>
                {{/each}}
            </tbody>
        </table>
    </div>
    </div>

</body>

</html>